<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title></title>
    </head>
    <body>
        <script>
            // 참고자료 : https://hanamon.kr/javascript-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85%EC%9D%B4%EB%9E%80-hoisting/
            // JS의 모든 선언은 호이스팅(선언이 먼저 메모리에 저장)이 일어납니다.

            //호이스팅은 함수를 뒤에서 선언해도 앞에서 실행할 수 있다는 것. 코드를 위에서부터 읽으면 add1이 뒤에 있는 어떻게 실행가능한가?
            //함수는 호이스팅이 됨. add1이 선언되는 즉시 앞으로 올라가서 맨 처음에 선언된 것 처럼 작동함.
            // 중요포인트! mul1과 mul2임. 
            
            // 그러나 let, const, class 이용한 선언문은 호이스팅이 되었지만 안된 것처럼 동작
            // 이러한 현상은 일시적 사각지대(Temporal Dead Zone)에 빠지기 때문
            // 중요한 포인트는 그렇다하여 호이스팅이 안된 것은 아니라는 것!
            // 오류가 나는 이유는 var 키워드는 선언과 함께 undefined로 초기화
            // let과 const는 초기화 되지 않는 상태로 선언만 메모리 저장
            console.log(add1(10, 20)); // 30
            console.log(add2(10, 20)); // 30
            console.log(mul1); // undefined

            // console.log(mul1(10, 20)); // not a function
            // console.log(mul2); // Cannot access 'mul2' before initialization. 초기화되기전에 사용됐다. 
            // console.log(mul2(10, 20)); // 위와 같은 애러
            // console.log(mul3) // mul3 is not defined, 호이스팅이 안되었기 때문

            //console.log(test); //아래에 도달해야 가능함.
            console.log(test2);

            function add1(x, y) {
                return x + y;
            }

            function add2(x, y) {
                return x + y;
            }

            //이렇게 선언해서 사용할거면 맨 위로 올려야함. 
            var mul1 = function (a, b) {
                return a * b;
            };

            let mul2 = function (a, b) {
                return a * b;
            };
            //let test = 100;
            // var test2 = 100;
            // 호이스팅은 변수가 끌어올려지는 현상. 함수도 마찬가지. 선언은 호이스팅 되지만 할당은 호이스팅되지 않는다. 


            //자바스크립트는 코드가 실행이 되기 전에 먼저 자바스크립트 엔진이 나와서 선언해둔 변수, 함수들을 누구 있나 조사함. 그리고 선언된 변수와 함수를 가져가서 메모리에 기억해둠. 그러다가 누군가 그 변수를 부르면 a여기있어하고 줌. 이게 호이스팅

            // var의 경우: 자바스크립트 엔진이 코드가 실행되기 전에 a가 있음을 확인하고, 저장함. 그래서 엔진이 첫번째 줄에서 a여깄어 하고 undefined 줌. (1로 할당하기 전이기 때문에 undefined). 호이스팅시 변수의 선언과 초기화(undefined으로)같이 시켜버림. 그리고, 값 할당은 나중에 그 줄 가서 할당함. 
            // console.log(a) //undefined 
            // var a= 1
            // console.log(a)

            //이것도 가능함.
            // console.log(a) //undefined 
            // a = 1
            // var a
            // console.log(a)


            // let의 경우 : a가 호이스팅으로 기억이 된건 알겠어. 하지만, a가 선언이되는 라인 전까지 너는 a에 접근할 수 없어. 일시적으로 너는 죽은 zon이야 (Temporal Dead zone)  
            // console.log(a) //TDZ이기 때문에 a에 접근불가
            // let a= 1
            // console.log(a)

        </script>
    </body>
</html>