<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>쇼핑몰 만들기</title>
    </head>
    <body>
        <div id="root"></div>
        <script
            src="https://unpkg.com/react@17/umd/react.development.js"
            crossorigin
        ></script>
        <script
            src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
            crossorigin
        ></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
        <script type="text/babel">
            const productData = [
                {
                    "id": 1,
                    "productName": "버그를 Java라 버그잡는 개리씨 키링 개발자키링 금속키링",
                    "price": 12500,
                    "stockCount": 100,
                    "thumbnailImg": "asset/img/1/thumbnailImg.jpg",
                    "option": [

                    ],
                "discountRate": 0,
                "shippingFee": 1500,
                "detailInfoImage": [
                    "asset/detail/2/detail1.png",
                    "asset/detail/2/detail2.png"
                ],
                "viewCount": 0,
                "pubDate": "2022-02-28",
                "modDate": "2022-02-28"
                },
                {
                "id": 2,
                "productName": "우당탕탕 라이캣의 실험실 스티커 팩",
                "price": 3500,
                "stockCount": 1000,
                "thumbnailImg": "asset/img/2/thumbnailImg.jpg",
                "option": [

                ],
                "discountRate": 0,
                "shippingFee": 1500,
                "detailInfoImage": [
                    "asset/detail/2/detail1.png",
                    "asset/detail/2/detail2.png"
                ],
                "viewCount": 0,
                "pubDate": "2022-02-28",
                "modDate": "2022-02-28"
                },
                {
                "id": 3,
                "productName": "딥러닝 개발자 무릎 담요",
                "price": 17500,
                "stockCount": 0,
                "thumbnailImg": "asset/img/3/thumbnailImg.jpg",
                "option": [

                ],
                "discountRate": 0,
                "shippingFee": 1500,
                "detailInfoImage": [
                    "asset/detail/3/detail1.png",
                    "asset/detail/3/detail2.png",
                    "asset/detail/3/detail3.png"
                ],
                "viewCount": 0,
                "pubDate": "2022-02-28",
                "modDate": "2022-02-28"
                },
                {
                "id": 4,
                "productName": "네 개발잡니다 개발자키링 금속키링",
                "price": 13500,
                "stockCount": 100,
                "thumbnailImg": "asset/img/4/thumbnailImg.jpg",
                "option": [

                ],
                "discountRate": 0,
                "shippingFee": 1500,
                "detailInfoImage": [
                    "asset/detail/4/detail1.png",
                    "asset/detail/4/detail2.png"
                ],
                "viewCount": 0,
                "pubDate": "2022-02-28",
                "modDate": "2022-02-28"
                },
                {
                "id": 5,
                "productName": "Hack Your Life 개발자 노트북 파우치",
                "price": 36000,
                "stockCount": 230,
                "thumbnailImg": "asset/img/5/thumbnailImg.jpg",
                "option": [
                    {
                    "id": 1,
                    "optionName": "13인치",
                    "additionalFee": 0
                    },
                    {
                    "id": 2,
                    "optionName": "15인치",
                    "additionalFee": 1000
                    }
                ],
                "discountRate": 19,
                "shippingFee": 1500,
                "detailInfoImage": [
                    "asset/detail/5/detail1.png",
                    "asset/detail/5/detail2.png"
                ],
                "viewCount": 0,
                "pubDate": "2022-02-28",
                "modDate": "2022-02-28"
                },
                {
                "id": 6,
                "productName": "[NEW] 위니브 개발자, 캐릭터 스티커팩 2종",
                "price": 5500,
                "stockCount": 1000,
                "thumbnailImg": "asset/img/6/thumbnailImg.jpg",
                "option": [
                    {
                        "id": 1,
                        "optionName": "위니브 개발자 스티커팩",
                        "additionalFee": 0
                    },
                    {
                        "id": 2,
                        "optionName": "위니브 프랜즈 스티커팩",
                        "additionalFee": 0
                    },
                    {
                        "id": 3,
                        "optionName": "스티커팩 세트(개발자+프렌즈)",
                        "additionalFee": 5000
                    }
                    ],
                    "discountRate": 0,
                    "shippingFee": 1500,
                    "detailInfoImage": [
                    "asset/detail/6/detail1.png",
                    "asset/detail/6/detail2.png",
                    "asset/detail/6/detail3.png",
                    "asset/detail/6/detail4.png",
                    "asset/detail/6/detail5.png"
                    ],
                    "viewCount": 0,
                    "pubDate": "2022-02-28",
                    "modDate": "2022-02-28"
                },
                {
                    "id": 7,
                    "productName": "제주코딩베이스캠프 코딩 연습장 세트",
                    "price": 8000,
                    "stockCount": 1000,
                    "thumbnailImg": "asset/img/7/thumbnailImg.jpg",
                    "option": [

                    ],
                    "discountRate": 0,
                    "shippingFee": 1500,
                    "detailInfoImage": [
                    "asset/detail/7/detail1.png",
                    "asset/detail/7/detail2.png"
                    ],
                    "viewCount": 0,
                    "pubDate": "2022-02-28",
                    "modDate": "2022-02-28"
                }
            ]
            
            //step1
            //함수들은 나중에 다 각각의 파일로 분리되어 관리됨.
            //자바스크립트{}인데 어레이형식[]으로 컴포넌트가 들어있으면 뿌려줄 수 있다. (중요!)
            // function ProductList(){
            //     // 비동기 모듈
            //     console.log(productData);
            //     return (
            //         <ul>
            //             {[
            //                 <ProductInfo item={productData[0]}/>,
            //                 <ProductInfo item={productData[1]}/>,
            //                 <ProductInfo item={productData[2]}/>,
            //                 <ProductInfo item={productData[3]}/>,
            //                 <ProductInfo item={productData[4]}/>,
            //                 <ProductInfo item={productData[5]}/>,
            //             ]}
            //         </ul>
            //     )
            // }

            //step2
            //각 요소를 구분할 수 있는 key를 넣어줘야 함. 우리가 컨트롤 하는 createElement는 돔. 돔은 충분히 빠름. 그런데 만개정도의 아이템을 로드한다고하면 컨트롤 하기 힘듦. 헤비하기 때문에. 그래서 리액트에서는 버츄얼 돔을 사용함. 버츄얼 돔도 돔이긴 돔임. 만약에, 제목을 수정하고 싶으면 DOM은 트리를 다시 다 그림. 비 생산적. 가상돔은 제목만 다시그림. KEY값을 기반으로. 그래서 반복적으로 연속되는 것들은 키가 있어야함.
            // function ProductList(){
            //     // console.log(productData);
            //     let result = []; 
            //     productData.forEach(i => {
            //         result.push(<ProductInfo item={i} key={i.id}/>);
            //     });
            //     return (
            //         <ul>
            //             {result};
            //         </ul>
            //     )
            // }


            //Step3
            function ProductList(){
                return (
                    <ul>
                        {productData.filter(i => i.price <= 10000).map(i => (
                            <ProductInfo item={i} key={i.id}/>
                        ))}
                    </ul>
                )
            }

            function ProductInfo(props) { //props는 오브젝트. 중괄호 안에 자바스크립트 코드를 넣은것.
                // ProductInfo({item}) 구조분해할당으로 값만 받아옴. props로 받으면 객체 형태로 받아옴.
                console.log(props.item);
                return (
                    <li>
                        <img
                            src={
                                "http://test.api.weniv.co.kr/" +
                                props.item["thumbnailImg"]
                            }
                            alt=""
                        />
                        <p>{props.item["productName"]}</p>
                        <p>하트</p>
                        <p>{props.item["price"]}</p>
                    </li>
                );
            }



            function ShoppingCart(){
                return <p>쇼핑카드</p>
            }

            const app = (
                <main>
                    <ProductList/>
                    <ShoppingCart/>
                </main>

            );

            const domContainer = document.querySelector("#root");
            ReactDOM.render(app, domContainer);
        </script>
    </body>
</html>
